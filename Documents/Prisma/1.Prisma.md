# Prisma

- Lấy query prisma lấy các bài post và tác giả của bài post.
```ts
this.prismaService.post.findMany({
      where: {
        authorId: userId,
      },
      // include này như kiểu join trong SQL
      // lấy thêm thông tin của author
      // omit là loại bỏ các trường không cần thiết
      include: {
        author: {
          omit: {
            password: true,
          },
        },
      },
    })
```

- Tạo nhiều order.
  + Nếu tạo createMany thì chỉ tạo ra nhiều order nhưng không tạo được nhiều item trong lỗi order
```ts
this.prismaService.order.createMany({
  data: [
      {
        userId: 1
        status: PENDING_PAYMENT
        items: ...
      },
      {
        userId: 2
       status: PENDING_PICKUP
      },
      {
        userId: 3
        status: PENDING_DELIVERY
      },
      {
        userId: 3
        status: DELIVERED
      },
    ],
})
```
